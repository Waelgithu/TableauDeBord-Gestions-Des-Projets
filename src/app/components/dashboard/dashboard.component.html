<!-- src/app/components/dashboard/dashboard.component.html -->

<div class="dashboard-container">
  <div class="sidebar">
    <h3>Projet :</h3>
    <ul>
      <li *ngFor="let project of projects" (click)="selectProject(project)">
        {{ project.nom }}
      </li>
    </ul>
  </div>
  <div class="main-content">
    <div *ngIf="selectedProject">
      <h2>{{ selectedProject.nom }}</h2>
      <p>{{ selectedProject.description }}</p>
      <div class="charts">
        <div class="chart">
          <h4>Budget Total</h4>
          <p>{{ selectedProject.budget }}</p>
          <!-- Add chart code for Budget Total -->
        </div>
        <div class="chart">
          <h4>Budget Consommé</h4>
          <!-- Add chart code for Budget Consommé -->
        </div>
        <div class="chart">
          <h4>Task Completion</h4>
          <!-- Add chart code for Task Completion -->
        </div>
      </div>
      <div class="project-details">
        <h4>Equipes</h4>
        <table>
          <thead>
            <tr>
              <th>#</th>
              <th>Username</th>
              <th>Email</th>
              <th>Role</th>
              <th>Grade</th>
              <th>Worken</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let user of selectedProjectUsers">
              <td>{{ user.id }}</td>
              <td>{{ user.username }}</td>
              <td>{{ user.email }}</td>
              <td>{{ user.role }}</td>
              <td>{{ user.grade }}</td>
              <td>{{ user.worken ? 'Yes' : 'No' }}</td>
              <td><button (click)="viewDetails(user)">Details</button></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="project-tasks">
        <h4>Tasks</h4>
        <table>
          <thead>
            <tr>
              <th>#</th>
              <th>Title</th>
              <th>Description</th>
              <th>Status</th>
              <th>Start Date</th>
              <th>End Date</th>
              <th>Priority</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let task of selectedProjectTasks">
              <td>{{ task.id }}</td>
              <td>{{ task.title }}</td>
              <td>{{ task.description }}</td>
              <td>{{ task.status }}</td>
              <td>{{ task.startDate | date }}</td>
              <td>{{ task.endDate | date }}</td>
              <td>{{ task.priority }}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="progress-stats">
        <h4>Aperçu des status des taches</h4>
        <!-- Add chart code for task status overview -->
      </div>
    </div>
  </div>
</div>
